<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:p="http://primefaces.org/ui">
	<table>
		<tbody>
			<tr>
				<td><h:outputText value="Имя:"/></td>
				<td><p:inputText id="objectName" value="#{userDocument.object.name}" required="true" requiredMessage="Поле не может быть пустым"/></td>
				<td><p:message for="objectName" display="text"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Описание:"/></td>
				<td><p:inputTextarea id="objectDescription" value="#{userDocument.object.description}" rows="5" required="true" requiredMessage="Поле не может быть пустым" autoResize="false"/></td>
				<td><p:message for="objectDescription" display="text"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Автор:"/></td>
				<td><h:outputText value="#{user.currentUser.fullName}"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Распорядитель ресурсов:"/></td>
				<td>
					<p:selectOneMenu value="#{userDocument.selectedResourceManager}" id="objectResourceManager" required="true" requiredMessage="Необходимо выбрать распорядителя ресурсов">
						<f:selectItem itemLabel="Выберите пользователя" />
						<f:selectItems value="#{userDocument.userList}" var="u" itemLabel="#{u.fullName}" itemValue="#{u.userLoginName}"/>
					</p:selectOneMenu>
				</td>
				<td><p:message for="objectResourceManager" display="text"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Куратор:"/></td>
				<td>
					<p:selectOneMenu value="#{userDocument.selectedCurator}" id="objectCurator">
						<f:selectItem itemLabel="Выберите пользователя" />
						<f:selectItems value="#{userDocument.userList}" var="u" itemLabel="#{u.fullName}" itemValue="#{u.userLoginName}"/>
					</p:selectOneMenu>
				</td>
				<td><p:message for="objectCurator" display="text"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Ответственный исполнитель:"/></td>
				<td>
					<p:selectOneMenu value="#{userDocument.selectedPerformer}" id="objectPerformer">
						<f:selectItem itemLabel="Выберите пользователя" />
						<f:selectItems value="#{userDocument.userList}" var="u" itemLabel="#{u.fullName}" itemValue="#{u.userLoginName}"/>
					</p:selectOneMenu>
				</td>
				<td><p:message for="objectPerformer" display="text"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Контролер:"/></td>
				<td>
					<p:selectOneMenu value="#{userDocument.selectedController}" id="objectController">
						<f:selectItem itemLabel="Выберите пользователя" />
						<f:selectItems value="#{userDocument.userList}" var="u" itemLabel="#{u.fullName}" itemValue="#{u.userLoginName}"/>
					</p:selectOneMenu>
				</td>
				<td><p:message for="objectController" display="text"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Дата начала работы над объектом:"/></td>
				<td><p:calendar id="startProcessDate" value="#{userDocument.object.startProcessDate}" mode="popup"
                    	readOnlyInputText="true" mindate="#{userDocument.currentDate}"> 
          				<p:ajax event="dateSelect" />
        			</p:calendar>
        		</td>
        		<td><p:message for="startProcessDate" display="text"/></td>
			</tr>
			<tr>
				<td><h:outputText value="Дата окончания работы над объектом:"/></td>
				<td><p:calendar id="endProcessDate" value="#{userDocument.object.endProcessDate}" mode="popup"
                    	readOnlyInputText="true" mindate="#{userDocument.currentDate}"> 
          				<p:ajax event="dateSelect" />
        			</p:calendar>
        		</td>
        		<td><p:message for="endProcessDate" display="text"/></td>
			</tr>
			<tr>
				<td valign="top"><h:outputText value="Файл документа:"/></td>
				<td>
					
					<p:fileUpload id="inputFile" fileUploadListener="#{userDocument.documentUploadListener}"
                		multiple="false" label="Добавить файл" auto="true" styleClass="simple-file"
                		mode="advanced" sizeLimit="5242880" invalidSizeMessage="Максимальный размер загружаемого файла 5 МБ" showButtons="false" update="@this"/>
                </td>
                <td><p:message for="inputFile"/> </td>
			</tr>
		</tbody>
	</table>
</ui:composition>